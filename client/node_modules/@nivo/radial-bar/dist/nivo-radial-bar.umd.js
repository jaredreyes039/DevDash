!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@nivo/tooltip"),require("react/jsx-runtime"),require("react"),require("@nivo/core"),require("@nivo/arcs"),require("@nivo/legends"),require("@nivo/polar-axes"),require("d3-scale"),require("d3-shape"),require("@nivo/colors"),require("@nivo/scales")):"function"==typeof define&&define.amd?define(["exports","@nivo/tooltip","react/jsx-runtime","react","@nivo/core","@nivo/arcs","@nivo/legends","@nivo/polar-axes","d3-scale","d3-shape","@nivo/colors","@nivo/scales"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.nivo,e["react/jsx-runtime"],e.React,e.nivo,e.nivo,e.nivo,e.nivo,e.d3,e.d3,e.nivo,e.nivo)}(this,(function(e,r,a,n,i,o,t,l,s,d,u,c){"use strict";function v(){return v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}var g={maxValue:"auto",layers:["grid","tracks","bars","labels","legends"],startAngle:0,endAngle:270,innerRadius:.3,padding:.2,padAngle:0,cornerRadius:0,enableTracks:!0,tracksColor:"rgba(0, 0, 0, .15)",enableRadialGrid:!0,enableCircularGrid:!0,radialAxisStart:{},radialAxisEnd:null,circularAxisInner:null,circularAxisOuter:{},colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableLabels:!1,label:"formattedValue",labelsSkipAngle:10,labelsRadiusOffset:.5,labelsTextColor:{theme:"labels.text.fill"},isInteractive:!0,tooltip:function(e){var n=e.bar;return a.jsx(r.BasicTooltip,{enableChip:!0,id:a.jsxs("span",{children:[n.category," - ",n.groupId]}),value:n.formattedValue,color:n.color})},legends:[],animate:!0,motionConfig:"gentle",transitionMode:"centerRadius",renderWrapper:!0},p=v({},g),b=function(e){var r=e.data,a=e.maxValue,o=void 0===a?p.maxValue:a,t=e.valueFormat,l=e.startAngle,v=void 0===l?g.startAngle:l,b=e.endAngle,f=void 0===b?g.endAngle:b,m=e.innerRadiusRatio,h=void 0===m?g.innerRadius:m,x=e.padding,A=void 0===x?g.padding:x,R=e.padAngle,M=void 0===R?g.padAngle:R,C=e.cornerRadius,y=void 0===C?g.cornerRadius:C,k=e.width,j=e.height,L=e.colors,S=void 0===L?g.colors:L,G=e.tracksColor,I=void 0===G?g.tracksColor:G,T=n.useMemo((function(){return[k/2,j/2]}),[k,j]),W=Math.min.apply(Math,T),E=W*Math.min(h,1),O=u.useOrdinalColorScale(S,"category"),V=n.useMemo((function(){var e={serieIds:[],categories:[],groups:[],maxValue:0};return r.forEach((function(r){e.serieIds.push(r.id);var a=0;r.data.forEach((function(r){e.categories.includes(r.x)||e.categories.push(r.x),a+=r.y})),e.groups.push({id:r.id,total:a,data:r.data})})),e.maxValue="auto"===o?Math.max.apply(Math,e.groups.map((function(e){return e.total}))):o,e}),[r,o]),q=V.serieIds,w=V.categories,B=V.groups,F=V.maxValue,D=n.useMemo((function(){return c.castLinearScale(s.scaleLinear().domain([0,F]).range([v,f]))}),[F,v,f]),P=n.useMemo((function(){return c.castBandScale(s.scaleBand().domain(q).range([E,W]).padding(A))}),[q,W,E,A]),H=n.useMemo((function(){return d.arc().startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})).innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(y).padAngle(i.degreesToRadians(M))}),[y,M]),_=i.useValueFormatter(t),z=n.useMemo((function(){var e=[];return B.forEach((function(r){var a=0,n=P(r.id),o=n+P.bandwidth();r.data.forEach((function(t){var l=a+t.y,s={id:r.id+"."+t.x,data:t,groupId:r.id,category:t.x,value:t.y,formattedValue:_(t.y),color:"",stackedValue:l,arc:{startAngle:i.degreesToRadians(D(a)),endAngle:i.degreesToRadians(D(l)),innerRadius:n,outerRadius:o}};s.color=O(s),a+=t.y,e.push(s)}))})),e}),[B,P,D,O,_]),J=i.degreesToRadians(v),K=i.degreesToRadians(f),N=n.useMemo((function(){return c.getScaleTicks(P).map((function(e){var r=P(e);return{id:e,color:I,arc:{startAngle:J,endAngle:K,innerRadius:r,outerRadius:r+P.bandwidth()}}}))}),[P,J,K,I]),Q=n.useMemo((function(){return w.map((function(e){var r=z.find((function(r){return r.category===e})),a=r?r.color:void 0;return{id:e,label:e,color:a}}))}),[w,z]),U=n.useMemo((function(){return{center:T,outerRadius:W,innerRadius:E,bars:z,arcGenerator:H,radiusScale:P,valueScale:D}}),[T,W,E,z,H,P,D]);return{center:T,outerRadius:W,innerRadius:E,bars:z,arcGenerator:H,radiusScale:P,valueScale:D,tracks:N,legendData:Q,customLayerProps:U}},f=function(e){var i=e.center,t=e.bars,l=e.borderWidth,s=e.borderColor,d=e.arcGenerator,u=e.isInteractive,c=e.tooltip,v=e.onClick,g=e.onMouseEnter,p=e.onMouseMove,b=e.onMouseLeave,f=e.transitionMode,m=r.useTooltip(),h=m.showTooltipFromEvent,x=m.hideTooltip,A=n.useCallback((function(e,r){null==v||v(e,r)}),[v]),R=n.useCallback((function(e,r){h(n.createElement(c,{bar:e}),r),null==g||g(e,r)}),[h,c,g]),M=n.useCallback((function(e,r){h(n.createElement(c,{bar:e}),r),null==p||p(e,r)}),[h,c,p]),C=n.useCallback((function(e,r){x(),null==b||b(e,r)}),[x,b]);return a.jsx(o.ArcsLayer,{center:i,data:t,arcGenerator:d,borderWidth:l,borderColor:s,transitionMode:f,onClick:u?A:void 0,onMouseEnter:u?R:void 0,onMouseMove:u?M:void 0,onMouseLeave:u?C:void 0})},m=function(e){var r=e.center,n=e.tracks,i=e.arcGenerator,t=e.transitionMode;return a.jsx(o.ArcsLayer,{center:r,data:n,arcGenerator:i,borderWidth:0,borderColor:"none",transitionMode:t})},h=["isInteractive","animate","motionConfig","theme","renderWrapper"],x=function(e){var r=e.data,s=e.maxValue,d=void 0===s?p.maxValue:s,u=e.valueFormat,c=e.startAngle,g=void 0===c?p.startAngle:c,h=e.endAngle,x=void 0===h?p.endAngle:h,A=e.innerRadius,R=void 0===A?p.innerRadius:A,M=e.padding,C=void 0===M?p.padding:M,y=e.padAngle,k=void 0===y?p.padAngle:y,j=e.cornerRadius,L=void 0===j?p.cornerRadius:j,S=e.width,G=e.height,I=e.margin,T=e.layers,W=void 0===T?p.layers:T,E=e.enableTracks,O=void 0===E?p.enableTracks:E,V=e.tracksColor,q=void 0===V?p.tracksColor:V,w=e.enableRadialGrid,B=void 0===w?p.enableRadialGrid:w,F=e.enableCircularGrid,D=void 0===F?p.enableCircularGrid:F,P=e.radialAxisStart,H=void 0===P?p.radialAxisStart:P,_=e.radialAxisEnd,z=void 0===_?p.radialAxisEnd:_,J=e.circularAxisInner,K=void 0===J?p.circularAxisInner:J,N=e.circularAxisOuter,Q=void 0===N?p.circularAxisOuter:N,U=e.colors,X=void 0===U?p.colors:U,Y=e.borderWidth,Z=void 0===Y?p.borderWidth:Y,$=e.borderColor,ee=void 0===$?p.borderColor:$,re=e.enableLabels,ae=void 0===re?p.enableLabels:re,ne=e.label,ie=void 0===ne?p.label:ne,oe=e.labelsSkipAngle,te=void 0===oe?p.labelsSkipAngle:oe,le=e.labelsRadiusOffset,se=void 0===le?p.labelsRadiusOffset:le,de=e.labelsTextColor,ue=void 0===de?p.labelsTextColor:de,ce=e.isInteractive,ve=void 0===ce?p.isInteractive:ce,ge=e.tooltip,pe=void 0===ge?p.tooltip:ge,be=e.onClick,fe=e.onMouseEnter,me=e.onMouseMove,he=e.onMouseLeave,xe=e.transitionMode,Ae=void 0===xe?p.transitionMode:xe,Re=e.legends,Me=void 0===Re?p.legends:Re,Ce=e.role,ye=e.ariaLabel,ke=e.ariaLabelledBy,je=e.ariaDescribedBy,Le=i.useDimensions(S,G,I),Se=Le.margin,Ge=Le.innerWidth,Ie=Le.innerHeight,Te=Le.outerWidth,We=Le.outerHeight,Ee=i.clampArc(g,x),Oe=Ee[0],Ve=Ee[1],qe=b({data:r,maxValue:d,valueFormat:u,startAngle:Oe,endAngle:Ve,innerRadiusRatio:R,padding:C,padAngle:k,cornerRadius:L,width:Ge,height:Ie,colors:X,tracksColor:q}),we=qe.center,Be=qe.innerRadius,Fe=qe.outerRadius,De=qe.bars,Pe=qe.arcGenerator,He=qe.radiusScale,_e=qe.valueScale,ze=qe.tracks,Je=qe.legendData,Ke=qe.customLayerProps,Ne={grid:null,tracks:null,bars:null,labels:null,legends:null};return W.includes("grid")&&(Ne.grid=a.jsxs(n.Fragment,{children:[a.jsx(l.PolarGrid,{center:we,enableRadialGrid:B,enableCircularGrid:D,angleScale:_e,radiusScale:He,startAngle:Oe,endAngle:Ve}),H&&a.jsx(l.RadialAxis,v({type:"start",center:we,angle:Math.min(Oe,Ve),scale:He},H)),z&&a.jsx(l.RadialAxis,v({type:"end",center:we,angle:Math.max(Oe,Ve),scale:He},z)),K&&a.jsx(l.CircularAxis,v({type:"inner",center:we,radius:Be,startAngle:Oe,endAngle:Ve,scale:_e},K)),Q&&a.jsx(l.CircularAxis,v({type:"outer",center:we,radius:Fe,startAngle:Oe,endAngle:Ve,scale:_e},Q))]},"grid")),W.includes("tracks")&&O&&(Ne.tracks=a.jsx(m,{center:we,tracks:ze,arcGenerator:Pe,transitionMode:Ae},"tracks")),W.includes("bars")&&(Ne.bars=a.jsx(f,{center:we,bars:De,borderWidth:Z,borderColor:ee,arcGenerator:Pe,isInteractive:ve,tooltip:pe,onClick:be,onMouseEnter:fe,onMouseMove:me,onMouseLeave:he,transitionMode:Ae},"bars")),W.includes("labels")&&ae&&(Ne.labels=a.jsx(o.ArcLabelsLayer,{center:we,data:De,label:ie,radiusOffset:se,skipAngle:te,textColor:ue,transitionMode:Ae},"labels")),W.includes("legends")&&Me.length>0&&(Ne.legends=a.jsx(n.Fragment,{children:Me.map((function(e,r){return a.jsx(t.BoxLegendSvg,v({},e,{containerWidth:Ge,containerHeight:Ie,data:Je}),r)}))},"legends")),a.jsx(i.SvgWrapper,{width:Te,height:We,margin:Se,role:Ce,ariaLabel:ye,ariaLabelledBy:ke,ariaDescribedBy:je,children:W.map((function(e,r){var i;return"function"==typeof e?a.jsx(n.Fragment,{children:n.createElement(e,Ke)},r):null!=(i=null==Ne?void 0:Ne[e])?i:null}))})},A=function(e){var r=e.isInteractive,n=void 0===r?p.isInteractive:r,o=e.animate,t=void 0===o?p.animate:o,l=e.motionConfig,s=void 0===l?p.motionConfig:l,d=e.theme,u=e.renderWrapper,c=function(e,r){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],r.indexOf(a)>=0||(i[a]=e[a]);return i}(e,h);return a.jsx(i.Container,{animate:t,isInteractive:n,motionConfig:s,renderWrapper:u,theme:d,children:a.jsx(x,v({isInteractive:n},c))})};e.RadialBar=A,e.ResponsiveRadialBar=function(e){return a.jsx(i.ResponsiveWrapper,{children:function(r){var n=r.width,i=r.height;return a.jsx(A,v({width:n,height:i},e))}})},e.commonDefaultProps=g,e.svgDefaultProps=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-radial-bar.umd.js.map
